<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Page</title>
    <script
      src="https://kit.fontawesome.com/a4a01fc001.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="index.css">
  </head>
  <body>

    <!-- <video autoplay loop muted plays-inline src="bg.mp4" class="backvdo"></video> -->
    <div class="container">
<h1>Log in</h1>

<form name="sign in"action="#" method="post" enctype="multipart/form-data">
        <div class="box">
        <i class = "fa fa-envelope"></i>
        <input
          type="email"
          name="login_email"
          id="login_email"
          placeholder="Enter Your Mail"
        />
      </div>

      <div class="box">
        <i class = "fa fa-key"></i>
        <input
          type="password"
          name="password"
          id="password"
          placeholder="Enter Your Password"
        />
      </div>

      <button type="button" class="btn" id="signin">Sign In</button>
      <a class="regbtn"   href="/reg.html">Create a new acc</a>
    </form>
    </div>
  </body>
 <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics.js";
  import { getAuth , signInWithEmailAndPassword ,signOut  } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries
  
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyAhrF6Um19w9JUBbCO23P97eJ6m7b7dFl8",
    authDomain: "login-auth-91784.firebaseapp.com",
    projectId: "login-auth-91784",
    storageBucket: "login-auth-91784.appspot.com",
    messagingSenderId: "769884055566",
    appId: "1:769884055566:web:d9c9b417489c6d6105745f",
    measurementId: "G-DVSJHPRGGF"
  };
  
  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
      

      const auth = getAuth();

      document.getElementById("signin").addEventListener("click" , ()=>{
          var email = document.getElementById("login_email").value;
          var password = document.getElementById("password").value;

        signInWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          // Signed in 
          const user = userCredential.user;
          // ...
          location.href = "/signout.html";
          console.log(user);
            // alert("Login succesfully");
        })
        .catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;
          console.log(errorMessage);
            alert(error)
        });
      })
     

  </script>
</html>
